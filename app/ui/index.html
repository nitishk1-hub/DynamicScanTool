<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chrome Monitor - Dynamic Scan Tool</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="app">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="logo">
                <span class="logo-icon">üîç</span>
                <span class="logo-text">Chrome Monitor</span>
            </div>
            <div class="nav-items">
                <button class="nav-item active" data-tab="dashboard">
                    <span class="nav-icon">üìä</span>
                    <span>Dashboard</span>
                </button>
                <button class="nav-item" data-tab="settings">
                    <span class="nav-icon">‚öôÔ∏è</span>
                    <span>Settings</span>
                </button>
                <button class="nav-item" data-tab="reports">
                    <span class="nav-icon">üìã</span>
                    <span>Reports</span>
                </button>
            </div>
            <div class="nav-footer">
                <div class="version">v1.0.0</div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="content">
            <!-- Dashboard Tab -->
            <section class="tab-content active" id="dashboard-tab">
                <div class="page-header">
                    <h1>Security Testing Dashboard</h1>
                    <p>Analyze extensions, monitor browser activity, and run automated tests</p>
                </div>

                <div class="dashboard-grid">
                    <!-- Left Column: Controls -->
                    <div class="dashboard-left">
                        <!-- Extension Analysis -->
                        <div class="card">
                            <h3>üìÅ Analyze Extension</h3>
                            <div class="upload-area" id="upload-area">
                                <div class="upload-icon">üì¶</div>
                                <p>Drop CRX/ZIP file here or click to browse</p>
                                <input type="file" id="file-input" accept=".crx,.zip" hidden>
                            </div>
                            <div id="analysis-result" class="analysis-result hidden"></div>
                        </div>

                        <!-- Browser Testing Controls -->
                        <div class="card">
                            <h3>üåê Browser Testing</h3>
                            <div class="status-display" id="session-status">
                                <div class="status-indicator inactive"></div>
                                <span>Not Running</span>
                            </div>

                            <div class="stats-grid" id="session-stats">
                                <div class="stat">
                                    <span class="stat-value" id="stat-requests">0</span>
                                    <span class="stat-label">Network</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-value" id="stat-activities">0</span>
                                    <span class="stat-label">API</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-value" id="stat-dom">0</span>
                                    <span class="stat-label">DOM</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-value" id="stat-duration">0s</span>
                                    <span class="stat-label">Time</span>
                                </div>
                            </div>

                            <!-- Threat Indicators -->
                            <div class="threat-indicators hidden" id="threat-indicators">
                                <div class="threat-level" id="threat-critical">
                                    <span class="threat-icon">üî¥</span>
                                    <span class="threat-count" id="critical-count">0</span>
                                    <span class="threat-label">Critical</span>
                                </div>
                                <div class="threat-level" id="threat-high">
                                    <span class="threat-icon">üü†</span>
                                    <span class="threat-count" id="high-count">0</span>
                                    <span class="threat-label">High</span>
                                </div>
                                <div class="threat-level" id="threat-ext">
                                    <span class="threat-icon">üß©</span>
                                    <span class="threat-count" id="ext-count">0</span>
                                    <span class="threat-label">Ext</span>
                                </div>
                                <div class="threat-level" id="threat-screenshots">
                                    <span class="threat-icon">üì∏</span>
                                    <span class="threat-count" id="screenshot-count">0</span>
                                    <span class="threat-label">Shots</span>
                                </div>
                            </div>

                            <div class="btn-group">
                                <button class="btn btn-success" id="start-test-btn">‚ñ∂ Start</button>
                                <button class="btn btn-danger hidden" id="stop-test-btn">‚èπ Stop</button>
                                <button class="btn btn-secondary hidden" id="export-har-btn">üì¶ HAR</button>
                            </div>
                        </div>

                        <!-- Automation Templates -->
                        <div class="card">
                            <h3>ü§ñ Quick Automation</h3>
                            <div class="template-list" id="template-list">
                                <!-- Templates loaded dynamically -->
                            </div>
                            <div class="automation-status hidden" id="automation-status">
                                <div class="spinner"></div>
                                <span>Running automation...</span>
                                <button class="btn btn-sm btn-danger" id="stop-automation-btn">Stop</button>
                            </div>
                        </div>
                    </div>

                    <!-- Right Column: Live Feed -->
                    <div class="dashboard-right">
                        <div class="card live-feed-card">
                            <h3>üì° Live Activity Feed</h3>
                            <div class="live-feed" id="live-feed">
                                <div class="feed-empty">Start testing to see activity...</div>
                            </div>
                        </div>

                        <div class="card automation-log-card">
                            <h3>üìù Automation Log</h3>
                            <div class="automation-logs" id="automation-logs">
                                <div class="log-empty">Run an automation to see logs...</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Settings Tab -->
            <section class="tab-content" id="settings-tab">
                <div class="page-header">
                    <h1>Settings & Tools</h1>
                    <p>Manage custom scripts and test credentials</p>
                </div>

                <div class="settings-grid">
                    <!-- Custom Scripts -->
                    <div class="card settings-card">
                        <h3>üìù Custom Scripts</h3>
                        <p class="card-description">Create and manage your own automation scripts</p>

                        <div class="script-editor">
                            <div class="script-list" id="script-list">
                                <div class="script-item new-script" id="new-script-btn">
                                    <span>‚ûï New Script</span>
                                </div>
                                <!-- Saved scripts loaded dynamically -->
                            </div>

                            <div class="editor-panel">
                                <div class="editor-header">
                                    <input type="text" id="script-name" placeholder="Script Name" class="input-field">
                                    <div class="editor-actions">
                                        <button class="btn btn-sm btn-primary" id="save-script-btn">üíæ Save</button>
                                        <button class="btn btn-sm btn-success" id="run-script-btn">‚ñ∂ Run</button>
                                        <button class="btn btn-sm btn-danger" id="delete-script-btn">üóëÔ∏è Delete</button>
                                    </div>
                                </div>
                                <textarea id="script-editor" class="code-editor" placeholder='{
  "name": "My Custom Script",
  "description": "Description here",
  "actions": [
    { "type": "navigate", "url": "https://example.com" },
    { "type": "wait", "duration": 2000 },
    { "type": "click", "selector": "#button" },
    { "type": "type", "selector": "#input", "text": "Hello" }
  ]
}'></textarea>
                                <div class="editor-help">
                                    <strong>Available Actions:</strong> navigate, click, type, wait, scroll, hover,
                                    screenshot, newTab, reload, press, login, fillCredentials
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Credentials Management -->
                    <div class="card settings-card">
                        <h3>üîê Test Credentials</h3>
                        <p class="card-description">Manage credentials for automated login testing</p>

                        <!-- Default Credentials -->
                        <div class="cred-section">
                            <h4>Default Credentials</h4>
                            <div class="cred-form">
                                <input type="email" id="default-email" placeholder="Email" class="input-field">
                                <input type="text" id="default-username" placeholder="Username" class="input-field">
                                <input type="password" id="default-password" placeholder="Password" class="input-field">
                                <button class="btn btn-primary" id="save-default-btn">Save Default</button>
                            </div>
                        </div>

                        <!-- Site Credentials -->
                        <div class="cred-section">
                            <h4>Site-Specific Credentials</h4>
                            <div class="site-cred-list" id="site-cred-list">
                                <!-- Loaded dynamically -->
                            </div>

                            <div class="add-site-cred">
                                <h5>Add New Site</h5>
                                <div class="cred-form">
                                    <input type="text" id="site-name" placeholder="Site (e.g., facebook)"
                                        class="input-field">
                                    <input type="email" id="site-email" placeholder="Email" class="input-field">
                                    <input type="password" id="site-password" placeholder="Password"
                                        class="input-field">
                                    <button class="btn btn-success" id="add-site-btn">‚ûï Add Site</button>
                                </div>
                            </div>
                        </div>

                        <!-- Import/Export -->
                        <div class="cred-section">
                            <h4>Import / Export</h4>
                            <div class="btn-group">
                                <button class="btn btn-secondary" id="import-creds-btn">üì• Import JSON</button>
                                <button class="btn btn-secondary" id="export-creds-btn">üì§ Export JSON</button>
                                <button class="btn btn-danger" id="clear-creds-btn">üóëÔ∏è Clear All</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Reports Tab -->
            <section class="tab-content" id="reports-tab">
                <div class="page-header">
                    <h1>Security Reports</h1>
                    <p>View and export captured security data</p>
                </div>

                <div class="reports-list" id="reports-list">
                    <!-- Reports loaded dynamically -->
                </div>

                <div class="report-detail hidden" id="report-detail">
                    <!-- Report details shown here -->
                </div>
            </section>
        </main>
    </div>

    <script src="renderer.js"></script>
</body>

</html>