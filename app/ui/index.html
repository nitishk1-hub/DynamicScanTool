<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chrome Monitor - Dynamic Scan Tool</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="app">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="logo">
                <div class="logo-icon">üõ°Ô∏è</div>
                <div class="logo-text">
                    <span class="logo-title">Chrome Monitor</span>
                    <span class="logo-subtitle">Security Scanner</span>
                </div>
            </div>

            <div class="nav-section">
                <div class="nav-label">MAIN</div>
                <button class="nav-item active" data-tab="scan">
                    <span class="nav-icon">üî¨</span>
                    <span class="nav-text">Scan & Test</span>
                </button>
                <button class="nav-item" data-tab="reports">
                    <span class="nav-icon">üìä</span>
                    <span class="nav-text">Reports</span>
                </button>
            </div>

            <div class="nav-section">
                <div class="nav-label">SETTINGS</div>
                <button class="nav-item" data-tab="scripts">
                    <span class="nav-icon">üìù</span>
                    <span class="nav-text">Scripts</span>
                </button>
                <button class="nav-item" data-tab="credentials">
                    <span class="nav-icon">üîë</span>
                    <span class="nav-text">Credentials</span>
                </button>
            </div>

            <div class="nav-footer">
                <div class="status-badge" id="app-status">
                    <span class="status-dot"></span>
                    <span>Ready</span>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="content">

            <!-- ============ SCAN TAB ============ -->
            <section class="tab-content active" id="scan-tab">
                <!-- Top Bar -->
                <div class="top-bar">
                    <div class="top-title">
                        <h1>Extension Security Scan</h1>
                    </div>
                    <div class="top-actions">
                        <button class="icon-btn" id="settings-btn" title="Quick Settings">‚öôÔ∏è</button>
                        <button class="icon-btn" id="help-btn" title="Help">‚ùì</button>
                    </div>
                </div>

                <!-- Main Grid -->
                <div class="scan-grid">
                    <!-- Left Panel: Upload & Analysis -->
                    <div class="panel">
                        <div class="panel-header">
                            <h2>üì¶ Extension Analysis</h2>
                            <span class="badge">Static Scan</span>
                        </div>

                        <div class="upload-box" id="upload-area">
                            <div class="upload-content">
                                <span class="upload-icon">üìÅ</span>
                                <span class="upload-text">Drop .crx or .zip file here</span>
                                <span class="upload-hint">or click to browse</span>
                            </div>
                            <input type="file" id="file-input" accept=".crx,.zip" hidden>
                        </div>

                        <div class="analysis-result" id="analysis-result">
                            <div class="result-placeholder">
                                <span>No extension loaded</span>
                            </div>
                        </div>
                    </div>

                    <!-- Right Panel: Testing Controls -->
                    <div class="panel">
                        <div class="panel-header">
                            <h2>üåê Dynamic Testing</h2>
                            <span class="badge badge-primary" id="test-status-badge">Ready</span>
                        </div>

                        <!-- Quick Settings -->
                        <div class="settings-row">
                            <label class="toggle-label">
                                <input type="checkbox" id="use-credentials">
                                <span class="toggle-switch"></span>
                                <span>Use Test Credentials</span>
                            </label>

                            <select id="script-select" class="select-field">
                                <option value="">Manual Testing</option>
                            </select>
                        </div>

                        <!-- Action Buttons -->
                        <div class="action-row">
                            <button class="btn-primary btn-large" id="start-test-btn">
                                <span class="btn-icon">‚ñ∂</span>
                                <span>Start Testing</span>
                            </button>
                            <button class="btn-danger btn-large hidden" id="stop-test-btn">
                                <span class="btn-icon">‚èπ</span>
                                <span>Stop & Report</span>
                            </button>
                            <button class="btn-outline hidden" id="export-har-btn">üì¶ HAR</button>
                        </div>

                        <!-- Live Stats -->
                        <div class="stats-bar hidden" id="stats-bar">
                            <div class="stat-item">
                                <span class="stat-num" id="stat-requests">0</span>
                                <span class="stat-name">Requests</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-num" id="stat-activities">0</span>
                                <span class="stat-name">API Calls</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-num" id="stat-dom">0</span>
                                <span class="stat-name">DOM</span>
                            </div>
                            <div class="stat-item stat-danger" id="threat-stat">
                                <span class="stat-num" id="stat-threats">0</span>
                                <span class="stat-name">Threats</span>
                            </div>
                            <div class="stat-item stat-timer">
                                <span class="stat-num" id="stat-duration">0s</span>
                                <span class="stat-name">Time</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Live Feed (Bottom) -->
                <div class="live-panel hidden" id="live-panel">
                    <div class="live-header">
                        <div class="live-tabs">
                            <button class="live-tab active" data-live="network">Network</button>
                            <button class="live-tab" data-live="dom">DOM Events</button>
                            <button class="live-tab" data-live="api">API Calls</button>
                            <button class="live-tab" data-live="automation">Automation</button>
                        </div>
                        <div class="live-indicator">
                            <span class="pulse"></span>
                            <span>LIVE</span>
                        </div>
                    </div>
                    <div class="live-feed" id="live-feed">
                        <div class="feed-empty">Waiting for activity...</div>
                    </div>
                </div>
            </section>

            <!-- ============ REPORTS TAB ============ -->
            <section class="tab-content" id="reports-tab">
                <div class="top-bar">
                    <h1>üìä Security Reports</h1>
                </div>
                <div class="reports-grid" id="reports-list"></div>
                <div class="report-detail hidden" id="report-detail"></div>
            </section>

            <!-- ============ SCRIPTS TAB ============ -->
            <section class="tab-content" id="scripts-tab">
                <div class="top-bar">
                    <h1>üìù Automation Scripts</h1>
                    <button class="btn-primary" id="new-script-btn">+ New Script</button>
                </div>
                <div class="scripts-grid">
                    <div class="scripts-list" id="scripts-list"></div>
                    <div class="script-editor-panel">
                        <input type="text" id="script-name" class="input-large" placeholder="Script Name">
                        <textarea id="script-editor" class="code-editor" placeholder="Enter script JSON..."></textarea>
                        <div class="editor-actions">
                            <button class="btn-primary" id="save-script-btn">üíæ Save</button>
                            <button class="btn-outline" id="run-script-btn">‚ñ∂ Test Run</button>
                            <button class="btn-danger" id="delete-script-btn">üóëÔ∏è Delete</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ============ CREDENTIALS TAB ============ -->
            <section class="tab-content" id="credentials-tab">
                <div class="top-bar">
                    <h1>üîë Test Credentials</h1>
                    <div class="top-actions">
                        <button class="btn-outline" id="import-creds-btn">üì• Import</button>
                        <button class="btn-outline" id="export-creds-btn">üì§ Export</button>
                    </div>
                </div>

                <div class="creds-grid">
                    <div class="cred-card">
                        <h3>Default Credentials</h3>
                        <div class="cred-inputs">
                            <input type="email" id="default-email" class="input-field" placeholder="Email">
                            <input type="text" id="default-username" class="input-field" placeholder="Username">
                            <input type="password" id="default-password" class="input-field" placeholder="Password">
                            <button class="btn-primary" id="save-default-btn">Save</button>
                        </div>
                    </div>

                    <div class="cred-card">
                        <h3>Site Credentials</h3>
                        <div class="site-list" id="site-list"></div>
                        <div class="add-site-row">
                            <input type="text" id="site-name" class="input-field" placeholder="Site name">
                            <input type="email" id="site-email" class="input-field" placeholder="Email">
                            <input type="password" id="site-password" class="input-field" placeholder="Password">
                            <button class="btn-success" id="add-site-btn">+</button>
                        </div>
                    </div>
                </div>

                <button class="btn-danger" id="clear-creds-btn" style="margin-top: 20px;">üóëÔ∏è Clear All</button>
            </section>
        </main>
    </div>

    <script src="renderer.js"></script>
</body>

</html>